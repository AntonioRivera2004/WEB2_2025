<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de QR</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        div {
            margin-bottom: 15px;
        }
        input, button {
            margin: 5px 0;
            padding: 5px;
        }
        .qr-code {
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <div>
        <label for="input1">Nombre: </label>
        <input type="text" id="input1" placeholder="Nombre">

        <label for="input2">Correo: </label>
        <input type="email" id="input2" placeholder="Correo">

        <label for="input3">Selecciona la institución: </label>
        <input type="text" id="input3" list="institucionLista" placeholder="Institución">
        <datalist id="institucionLista">
            <option value="FES Aragon">Facultad de Estudios Superiores Aragon</option>
            <option value="POLI">Politécnico</option>
        </datalist>

        <label for="input4">Dependencia: </label>
        <input type="text" id="input4" placeholder="Dependencia">
    </div>

    <div>
        <button onclick="generarQR()">Generar QR</button>
        <button onclick="resetQR()">Generar un nuevo QR</button>
    </div>

    <div id="qr-code" style="text-align: center;">
    </div>

    <script>
        function generarQR(){
            let input1 = document.getElementById('input1').value.trim();
            let input2 = document.getElementById('input2').value.trim();
            let input3 = document.getElementById('input3').value.trim();
            let input4 = document.getElementById('input4').value.trim();

            let textoCompleto = input1 + " " + input2 + " " + input3 + " " + input4;

            if(textoCompleto.trim() === ""){
                alert("Ingresa al menos un texto para generar el QR");
                return;
            }

            let qrCodeURL = 'https://api.qrserver.com/v1/create-qr-code/?size=350x200&data=' + encodeURIComponent(textoCompleto);

            let qrImg = document.createElement('img');
            qrImg.src = qrCodeURL;
            qrImg.alt = 'Un código QR';
            qrImg.classList.add('qr-code');

            let contenedor = document.getElementById('qr-code');
            contenedor.innerHTML = ''; // limpiar QR anterior
            contenedor.appendChild(qrImg);

            console.log(qrImg.src);
        }

        function resetQR() {
            document.getElementById('qr-code').innerHTML = '';
            document.getElementById('input1').value = '';
            document.getElementById('input2').value = '';
            document.getElementById('input3').value = '';
            document.getElementById('input4').value = '';
        }
    </script>

</body>
</html>
